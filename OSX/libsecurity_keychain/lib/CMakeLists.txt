project(libsecurity_keychain)

add_definitions(
	-DSECTRUST_OSX=0
)

include_directories(
	${CMAKE_CURRENT_SOURCE_DIR}
	${CMAKE_CURRENT_SOURCE_DIR}/..
	${CMAKE_CURRENT_SOURCE_DIR}/../../sec
)

set(security_keychain_sources
	Access.cpp
	ACL.cpp
	CCallbackMgr.cp
	Certificate.cpp
	CertificateRequest.cpp
	cssmdatetime.cpp
	defaultcreds.cpp
	DLDBListCFPref.cpp
	DynamicDLDBList.cpp
	Globals.cpp
	Identity.cpp
	IdentityCursor.cpp
	Item.cpp
	KCEventNotifier.cpp
	KCCursor.cpp
	KCUtilities.cpp
	Keychains.cpp
	KeyItem.cpp
	Password.cpp
	Policies.cpp
	PolicyCursor.cpp
	PrimaryKey.cpp
	SecAccess.cpp
	SecACL.cpp
	SecBase.cpp
	SecCertificate.cpp
	SecCertificateBundle.cpp
	SecCertificateRequest.cpp
	SecCFTypes.cpp
	SecIdentity.cpp
	SecIdentitySearch.cpp
	SecKey.cpp
	SecKeychain.cpp
	SecKeychainAddIToolsPassword.cpp
	SecKeychainItem.cpp
	SecKeychainSearch.cpp
	SecPassword.cpp
	SecPolicy.cpp
	SecPolicySearch.cpp
	SecTrust.cpp
	SecTrustedApplication.cpp
	StorageManager.cpp
	Trust.cpp
	TrustedApplication.cpp
	TrustItem.cpp
	TrustStore.cpp
	SecExport.cpp
	SecImport.cpp
	SecExternalRep.cpp
	SecImportExportAgg.cpp
	SecImportExportPem.cpp
	SecImportExportUtils.cpp
	SecNetscapeTemplates.cpp
	SecImportExportPkcs8.cpp
	SecPkcs8Templates.cpp
	SecWrappedKeys.cpp
	SecImportExportCrypto.cpp
	TrustRevocation.cpp
	UnlockReferralItem.cpp
	SecTrustSettings.cpp
	TrustSettings.cpp
	TrustSettingsUtils.cpp
	SecItem.cpp
	SecItemConstants.c
	SecImportExportOpenSSH.cpp
	ExtendedAttribute.cpp
	SecKeychainItemExtendedAttributes.cpp
	SecImportExport.c
	TrustAdditions.cpp
	CertificateValues.cpp
	SecCertificateP.c
	SecFrameworkP.c
	SecBase64P.c
	SecRecoveryPassword.c
	SecFDERecoveryAsymmetricCrypto.cpp
	SecRandom.c
	tsaDERUtilities.c
)

add_library(security_keychain OBJECT ${security_keychain_sources})

